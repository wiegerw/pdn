<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PDN Extensions &#8212; Portable Draughts Notation (PDN) Standard 3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=110ea713"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PDN 3.1 Proposals" href="pdnnext.html" />
    <link rel="prev" title="PDN Grammars" href="grammar.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pdn-extensions">
<span id="extensions-section"></span><h1>PDN Extensions<a class="headerlink" href="#pdn-extensions" title="Link to this heading">¶</a></h1>
<section id="embedded-commands">
<h2>Embedded commands<a class="headerlink" href="#embedded-commands" title="Link to this heading">¶</a></h2>
<p>Comments in PDN files may have embedded commands. Embedded
commands may appear anywhere inside comments, and they have the
following syntax: <code class="docutils literal notranslate"><span class="pre">[%COMMAND</span> <span class="pre">VALUE]</span></code>, where <code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> identifies
the command and <code class="docutils literal notranslate"><span class="pre">VALUE</span></code> is command-specific syntax.</p>
<section id="clk-mct-egt-and-emt-command">
<h3>clk, mct, egt and emt command<a class="headerlink" href="#clk-mct-egt-and-emt-command" title="Link to this heading">¶</a></h3>
<p>The following commands are taken from <a class="reference internal" href="introduction.html#dgt" id="id1"><span>[DGT]</span></a>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>clk</p></td>
<td><p>Time displayed on a clock (remaining time)</p></td>
</tr>
<tr class="row-odd"><td><p>mct</p></td>
<td><p>Time displayed on a clock (elapsed time)</p></td>
</tr>
<tr class="row-even"><td><p>egt</p></td>
<td><p>Elapsed game time</p></td>
</tr>
<tr class="row-odd"><td><p>emt</p></td>
<td><p>Elapsed move time</p></td>
</tr>
</tbody>
</table>
<p>The values of the <code class="docutils literal notranslate"><span class="pre">clk</span></code>, <code class="docutils literal notranslate"><span class="pre">egt</span></code>, <code class="docutils literal notranslate"><span class="pre">emt</span></code> and <code class="docutils literal notranslate"><span class="pre">mct</span></code> commands are in <code class="docutils literal notranslate"><span class="pre">h:mm:ss</span></code> format.
Usually <code class="docutils literal notranslate"><span class="pre">clk</span></code> values come from a digital clock, while <code class="docutils literal notranslate"><span class="pre">mct</span></code> values come from
a mechanical clock.</p>
<p><strong>Examples</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="mi">31</span><span class="o">-</span><span class="mi">26</span> <span class="p">{[</span><span class="o">%</span><span class="n">clk</span> <span class="mi">1</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">21</span><span class="p">]}</span>
</pre></div>
</div>
</section>
<section id="clock-command">
<h3>clock command<a class="headerlink" href="#clock-command" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">clock</span></code> command is an extension of the <code class="docutils literal notranslate"><span class="pre">clk</span></code> command.
An embedded <code class="docutils literal notranslate"><span class="pre">clk</span></code> command should match with the following regular expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\[%clock\s*(([wWbB])(\d{1,2}:\d\d:\d\d)\s*)(([wWbB])(\d{1,2}:\d\d:\d\d)\s*)?\]
</pre></div>
</div>
<p><strong>Examples</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="mi">31</span><span class="o">-</span><span class="mi">26</span> <span class="p">{[</span><span class="o">%</span><span class="n">clk</span> <span class="n">w0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">10</span> <span class="n">B0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="p">]}</span>

<span class="mf">23.44</span><span class="o">-</span><span class="mi">39</span> <span class="p">{[</span><span class="o">%</span><span class="n">clk</span> <span class="mi">1</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span><span class="p">]}</span> <span class="mi">18</span><span class="o">-</span><span class="mi">23</span> <span class="p">{</span><span class="n">Optional</span> <span class="n">leading</span> <span class="n">comments</span>
<span class="p">[</span><span class="o">%</span><span class="n">clock</span> <span class="mi">0</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span> <span class="n">optional</span> <span class="n">trailing</span> <span class="n">comments</span><span class="p">}</span>
</pre></div>
</div>
<p>In cases like this the clock time is connected to the preceding move. It is
the preferred way of specifying clock times during live recordings with
electronic boards. A clock command may contain one or two clock times. Each
of them may be preceded by a <code class="docutils literal notranslate"><span class="pre">w</span></code> or a <code class="docutils literal notranslate"><span class="pre">b</span></code> to denote the clock time for
white or black. If uppercase is used, it means that the clock for this player
is running.</p>
</section>
</section>
<section id="setup-commands">
<h2>Setup commands<a class="headerlink" href="#setup-commands" title="Link to this heading">¶</a></h2>
<p>The PDN grammars presented in this document contain an extension for doing
setups of a position anywhere in the game. The motivation for having this
command is threefold:</p>
<ul class="simple">
<li><p>It gives a well-defined way to handle illegal moves, that happen occasionally
in tournament practice.</p></li>
<li><p>They can be used to handle move recognition failures of electronic board
software.</p></li>
<li><p>In game analysis it is common to make side steps to different positions,
for example to a similar position that has occurred before. The setup
command allows to incorporate these side steps as normal variations
starting with a setup.</p></li>
</ul>
<p>A setup command is a FEN setup command surrounded by forward slashes.
Note that this extension is not backward compatible with older versions
of the PDN standard. This is an intentional choice, since the moves which
appear after a setup are ill-defined if the setup is ignored. Setups are changes
on the board, and so they should be on the same level as moves. It is therefore
not a good idea to model them as embedded commands inside comments.</p>
<p><strong>Null moves</strong></p>
<p>For programmers, null moves are sometimes useful to denote an empty move.
A possible notation for a null move, proposed by Gérard Taille, is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">FEN</span> <span class="s2">&quot;B::&quot;</span><span class="o">/</span>
</pre></div>
</div>
<p><strong>Examples</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.31</span><span class="o">-</span><span class="mi">26</span> <span class="mi">17</span><span class="o">-</span><span class="mi">21</span> <span class="o">/</span><span class="n">FEN</span> <span class="s2">&quot;B:B1-16,18-21:W26,28,33-50&quot;</span><span class="o">/</span>
<span class="p">{</span> <span class="n">White</span> <span class="n">forgot</span> <span class="n">to</span> <span class="n">make</span> <span class="n">a</span> <span class="n">capture</span> <span class="ow">and</span> <span class="n">played</span> <span class="mi">32</span><span class="o">-</span><span class="mi">28</span> <span class="n">instead</span> <span class="p">}</span>
</pre></div>
</div>
<p>Suppose a game starts with an illegal move, resulting in the following sequence
of positions:</p>
<blockquote>
<div><img alt="_images/setup1.png" src="_images/setup1.png" />
<img alt="_images/setup2.png" src="_images/setup2.png" />
<img alt="_images/setup3.png" src="_images/setup3.png" />
</div></blockquote>
<p>This can be encoded using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">FEN</span> <span class="s2">&quot;W:W31-50:B1-20&quot;</span><span class="o">/</span>
<span class="o">/</span><span class="n">FEN</span> <span class="s2">&quot;B:W28,31,33-50:B1-18,20&quot;</span><span class="o">/</span>
<span class="mf">01.</span><span class="o">..</span> <span class="mi">14</span><span class="o">-</span><span class="mi">19</span>
</pre></div>
</div>
<p>The setup of the initial position is required here. If it was
omitted, the second setup would be taken as initial position of the game.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Portable Draughts Notation (PDN) Standard</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="encoding.html">Character encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdntags.html">PDN Tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">PDN Grammars</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PDN Extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#embedded-commands">Embedded commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-commands">Setup commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pdnnext.html">PDN 3.1 Proposals</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">PDN Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">PDN Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="issues.html">PDN parsing issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="fen.html">FEN tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="gametype.html">GameType tag</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="grammar.html" title="previous chapter">PDN Grammars</a></li>
      <li>Next: <a href="pdnnext.html" title="next chapter">PDN 3.1 Proposals</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2011 - 2025, Wieger Wesselink.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/extensions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>